{% set assetHash = global.random() %}

<!DOCTYPE html>
<html lang="en">

{% include "partials/head.html" %}

<body id="{{ site.siteID }}" data-theme="light">

{% include "partials/header.html" %}

{% block content %}

<div class="layout" data-layout="yogi">

<div>
<h1>{{ title }}</h1>
{{ lede | safe }}
{{ main | safe }}

{% if extended %}
<p>
<button class="alt-arrow read-more-toggle"
aria-expanded="false"
aria-controls="extended-content">
<svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 16 16">
<path fill="#fff" d="M7.543 1.043a1 1 0 0 1 1.414 0l6.25 6.25a.997.997 0 0 1 0 1.415l-6.26 6.25a1 1 0 0 1-1.413-1.416L12.083 9H1a1 1 0 0 1 0-2h11.086L7.543 2.457a1 1 0 0 1 0-1.414"/>
</svg>
Read more
</button>
</p>

<div id="extended-content" class="extended-content" hidden aria-labelledby="extended-heading">
<h2 id="extended-heading" data-visibility="hidden">Extended content</h2>
{{ extended | safe }}
</div><!-- extended-content -->
{% endif %}

</div><!-- one -->

<div>
{% if featureImage %}
<figure data-fill="contain">
<img src="{{ featureImage }}" alt="{{ featureImageCaption }}" />
{% if featureImageCaption %}
<figcaption>{{ featureImageCaption }}</figcaption>
{% endif %}
</figure>
{% endif %}


{% if background %}
<div class="alt-box">
<h2>Project background</h2>
{{ background | safe }}
<p><a href="/background" class="alt-arrow"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 16 16">
<path fill="#000" d="M7.543 1.043a1 1 0 0 1 1.414 0l6.25 6.25a.997.997 0 0 1 0 1.415l-6.26 6.25a1 1 0 0 1-1.413-1.416L12.083 9H1a1 1 0 0 1 0-2h11.086L7.543 2.457a1 1 0 0 1 0-1.414"/></svg> Read more</a></p>
<hr>
{% endif %}

<ul class="alt-inline">
<li><a href="/team">The team</a></li>
<li><a href="/board">Advisory Board</a></li>
<li><a href="/partners">Our partner</a></li>
</ul>
</div><!-- box -->

</div><!-- two -->

</div><!-- layout -->



{% endblock %}

{% include "partials/footer.html" %}

<script>
document.addEventListener('DOMContentLoaded', function() {
const toggleButtons = document.querySelectorAll('.read-more-toggle');

toggleButtons.forEach(button => {
button.addEventListener('click', function() {
const expanded = this.getAttribute('aria-expanded') === 'true';
const targetId = this.getAttribute('aria-controls');
const target = document.getElementById(targetId);

// Toggle visibility
this.setAttribute('aria-expanded', !expanded);
target.hidden = expanded;

// Optional: Smooth focus management
if (!expanded) {
setTimeout(() => {
target.focus();
}, 100);
}
});
});
});
</script>

</body>

</html>