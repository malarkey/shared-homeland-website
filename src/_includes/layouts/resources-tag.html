---
pagination:
  data: collections.resourcesTag
  size: 1
  alias: tag
permalink: "/resources/tag/{{ tag | slug }}/"
layout: "layouts/base.html"
---

{% set tagResources = collections.resources | filterByTag(tag) %}

{% block content %}
<div class="resources-layout">
  <aside class="sidebar">
    <h3>Categories</h3>
    <nav>
      {% for category in collections.resourcesCategory %}
        <a href="/resources/category/{{ category | slug }}/">{{ category }}</a>
      {% endfor %}
    </nav>

    <h3>Search</h3>
    <form action="/resources/search/" method="GET">
      <input type="search" name="q" placeholder="Search resources...">
      <button type="submit">Search</button>
    </form>
  </aside>

  <main class="resources-list">
    <h1>Tag: {{ tag }}</h1>

    {% for resource in tagResources %}
      <article class="resource">
        <h2>
          {% if resource.data.url %}
            <a href="{{ resource.data.url }}">{{ resource.data.title }}</a>
          {% else %}
            <a href="{{ resource.data.file }}">{{ resource.data.title }}</a>
          {% endif %}
        </h2>
        <p class="meta">By {{ resource.data.author }} â€¢ {{ resource.data.date | dateFilter }}</p>
        <p class="summary">{{ resource.data.summary }}</p>
        <div class="taxonomy">
          {% for category in resource.data.categories %}
            <a href="/resources/category/{{ category | slug }}/" class="category">{{ category }}</a>
          {% endfor %}
          {% for t in resource.data.tags %}
            <a href="/resources/tag/{{ t | slug }}/" class="tag {% if t == tag %}current{% endif %}">{{ t }}</a>
          {% endfor %}
        </div>
      </article>
    {% else %}
      <p>No resources found with this tag.</p>
    {% endfor %}
  </main>
</div>
{% endblock %}